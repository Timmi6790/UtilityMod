package de.timmi6790.utility.modules.creative_tab.tabs;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ThreadLocalRandom;

import net.minecraft.init.Blocks;
import net.minecraft.item.EnumDyeColor;
import net.minecraft.item.ItemStack;

import org.apache.commons.lang3.RandomStringUtils;

import de.timmi6790.utility.builders.item_stack.ItemStackBuilder;
import de.timmi6790.utility.builders.item_stack.modifiers.FireworkType;
import de.timmi6790.utility.builders.item_stack.subbuilders.FireworkItemStackBuilder;

public class ExploitTab extends BaseTab
{
	public ExploitTab()
	{
		super("Exploit", new ItemStack(Blocks.barrier).getItem());
	}

	@Override
	protected void getItems(List<ItemStack> items)
	{
		// Max payload book
		final List<String> pages = new ArrayList<>();
		for (int page = 1; 22 > page; page++)
		{
			pages.add(RandomStringUtils.randomAlphanumeric(32_767));
		}
		items.add(
				ItemStackBuilder.ofBook()
						.setAuthor("The Void")
						.setTitle("The Voids Diary")
						.setPages(pages)
						.build()
		);

		// Overflowing healing potion
		items.add(
				ItemStackBuilder.ofPotion()
						.addPotionEffect(6, 125, Integer.MIN_VALUE)
						.setItemDamage(16395)
						.setItemName("Death Potion")
						.build()
		);

		// Minute lasting firework
		final FireworkItemStackBuilder fireworkItemStackBuilder = ItemStackBuilder.ofFirework()
				.setFlight(Byte.MIN_VALUE);
		for (int count = 0; 3_000 > count; count++)
		{
			fireworkItemStackBuilder.addExplosion(
					FireworkType.values()[ThreadLocalRandom.current().nextInt(FireworkType.values().length)],
					EnumDyeColor.values(),
					EnumDyeColor.values(),
					false,
					false
			);
		}

		items.add(
				fireworkItemStackBuilder
						.setItemName("Really long firework effect")
						.build()
		);
	}
}
